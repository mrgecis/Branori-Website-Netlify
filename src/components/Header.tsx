import { useState, useEffect } from 'react'

export function Header() {
  const [isMenuOpen, setIsMenuOpen] = useState(false)

  const toggleMenu = () => {
    setIsMenuOpen(!isMenuOpen)
  }

  const closeMenu = () => {
    setIsMenuOpen(false)
  }

  useEffect(() => {
    if (isMenuOpen) {
      document.body.style.overflow = 'hidden'
    } else {
      document.body.style.overflow = ''
    }

    return () => {
      document.body.style.overflow = ''
    }
  }, [isMenuOpen])

  useEffect(() => {
    const handleScroll = () => {
      if (isMenuOpen) {
        closeMenu()
      }
    }

    window.addEventListener('scroll', handleScroll)
    return () => window.removeEventListener('scroll', handleScroll)
  }, [isMenuOpen])

  return (
    <header className="fixed top-0 left-0 right-0 w-full z-[100] backdrop-blur-[8px] md:backdrop-blur-[12px] bg-[linear-gradient(to_bottom,_oklch(0.08_0.02_250_/_0.75),_oklch(0.08_0.02_250_/_0.35))] border-b border-[oklch(1_0_0_/_0.06)]">
      <div className="max-w-[1200px] w-full mx-auto px-4 md:px-5">
        <nav className="h-[68px] flex items-center justify-between">
          <div className="flex items-center gap-3 font-semibold tracking-wide">
            <svg
              width="32"
              height="32"
              viewBox="0 0 574 494"
              className="opacity-90"
              fill="currentColor"
              aria-hidden="true"
            >
              <path d="M370.398193,445.395294 C372.264008,444.983643 374.129852,444.571960 376.779114,443.997498 C377.842194,443.970917 378.905304,443.944305 380.429962,444.463623 C381.951843,444.028839 383.473755,443.594055 385.697235,442.933350 C386.425385,442.859772 387.153503,442.786194 388.237366,443.265533 C389.156647,442.906342 390.075897,442.547150 391.733124,441.894562 C394.314484,441.294373 396.895782,440.693817 399.477234,440.093964 C456.194885,426.914032 488.820984,376.016724 475.958557,320.620361 C473.765808,311.176422 470.402954,302.146271 465.236664,294.372223 C461.408966,299.295990 457.771271,303.975342 453.943115,308.899689 C454.255219,309.592072 454.804962,310.610199 455.186584,311.687927 C464.027740,336.656921 464.547241,361.333740 450.882965,384.779022 C440.001099,403.450165 423.121796,414.956482 402.696289,421.337921 C376.779877,429.434906 350.026672,427.843048 323.427856,427.787842 C322.483185,427.785858 321.052155,426.617462 320.670685,425.663635 C313.633484,408.067963 306.911285,390.377411 306.813477,371.013916 C306.758026,360.034943 308.345093,349.554016 314.823944,340.219299 C323.075256,328.330811 333.470947,325.175720 345.738220,332.608734 C354.495728,337.915070 362.145874,345.019867 370.534912,350.977539 C373.946777,353.400513 377.822144,355.749176 381.817566,356.629456 C387.109772,357.795410 392.739288,357.908508 398.201569,357.742218 C422.273743,357.009491 435.519928,346.806580 441.609833,324.225311 C442.983429,319.132080 443.537384,313.766205 443.945007,308.485382 C444.156128,305.750366 444.933990,304.143219 447.176453,302.419281 C460.571686,292.121429 467.480042,279.040039 464.048279,261.634644 C463.729614,260.018494 464.569061,257.601593 465.730042,256.359894 C472.736877,248.865829 473.145416,240.201279 466.820007,232.285812 C453.604797,215.748550 437.599640,202.169922 420.947449,189.364059 C413.079651,183.313629 407.395111,176.288040 405.570953,166.410400 C403.550110,155.468048 396.995300,147.778107 387.535828,142.625107 C369.452942,132.774490 351.403625,122.822014 332.941956,113.719994 C318.725006,106.710739 303.191925,103.533691 287.011810,100.917694 C290.317719,105.279068 293.159790,109.316406 296.338867,113.068199 C297.469086,114.402039 299.308502,115.359291 301.011047,115.947548 C312.286224,119.843246 324.086365,122.584389 334.807831,127.630188 C349.961060,134.761642 364.198853,143.812256 379.087494,151.542694 C386.762634,155.527786 391.138519,161.040710 392.917206,169.596130 C395.443909,181.749588 402.113739,191.513306 412.363708,198.832886 C418.859955,203.471954 425.144440,208.432800 431.291473,213.529663 C440.476288,221.145340 448.891968,229.533432 456.738403,240.392120 C444.538605,240.392120 433.502655,240.392120 422.466705,240.392120 C422.263123,240.965820 422.059570,241.539520 421.856018,242.113220 C428.359772,246.917282 435.015533,251.533875 441.290192,256.620544 C443.696075,258.570892 446.118256,261.319977 447.003174,264.178650 C449.999969,273.859894 446.242493,282.298615 439.085876,288.288513 C432.705048,293.629120 425.198181,298.073517 417.507904,301.283447 C408.504852,305.041290 398.765503,307.034973 388.778625,309.960022 C402.882141,316.162048 416.787750,314.008789 430.807892,310.655518 C430.467712,312.525726 430.314606,313.835815 429.986176,315.100403 C426.930328,326.867554 422.868866,338.303650 409.226440,341.075012 C401.539459,342.636536 393.422302,342.368286 385.502716,342.318848 C383.175049,342.304291 380.596161,340.560822 378.587372,339.017517 C371.595490,333.645844 365.238342,327.313538 357.801941,322.695862 C351.460907,318.758392 344.188080,315.129028 336.936859,314.090393 C320.272125,311.703430 308.644867,320.669586 300.404358,334.281342 C289.040588,353.052216 289.260437,373.293671 294.792297,393.567932 C298.796600,408.243622 304.237946,422.527222 308.595764,437.318787 C309.031128,437.878113 309.466492,438.437439 310.225311,439.492462 C310.190125,439.881989 310.154938,440.271484 310.067749,441.395782 C310.667633,442.262573 311.267548,443.129395 312.059753,444.373718 C312.059753,444.373718 312.074188,444.797150 312.196381,445.613953 C312.825134,446.060303 313.449921,446.888977 314.083252,446.895538 C323.213928,446.990112 332.346375,447.022369 341.476318,446.904663 C342.323578,446.893738 343.156372,445.762238 344.788818,444.998474 C345.860626,445.049103 346.932404,445.099731 348.214905,445.885925 C351.275818,447.238220 354.322968,448.426453 357.910217,444.997742 C361.913940,444.933685 365.917633,444.869598 370.398193,445.395294 M195.841324,444.997131 C197.563278,445.049805 199.285217,445.102478 201.096359,445.706268 C201.411621,445.993439 201.726898,446.280579 202.042160,446.567749 C202.359024,446.097443 202.675903,445.627136 203.738068,444.998505 C204.494431,445.050598 205.250778,445.102692 206.153549,445.806122 C207.433304,445.589691 208.713074,445.373230 210.786331,444.998688 C211.859940,445.050873 212.933533,445.103058 214.187500,445.850555 C216.330551,447.349976 218.398804,448.226349 220.904037,444.996887 C224.605072,445.049225 228.306091,445.101562 232.096039,445.705505 C232.411743,445.992676 232.727448,446.279846 233.043121,446.567017 C233.359711,446.095886 233.676300,445.624756 234.658325,444.998077 C235.107910,445.050018 235.557510,445.101959 236.153214,445.805389 C237.433105,445.588470 238.712997,445.371521 240.898941,444.997314 C244.268356,445.049957 247.637756,445.102631 251.096420,445.706421 C251.411819,445.993408 251.727234,446.280426 252.042633,446.567444 C252.359360,446.097015 252.676086,445.626617 253.786469,444.999084 C254.860031,445.050812 255.933578,445.102570 257.187256,445.849731 C259.329803,447.350586 261.397675,448.227539 263.883118,444.997040 C266.591125,445.049011 269.299103,445.100952 272.198700,445.867279 C274.659302,447.496124 277.016876,448.143219 279.887634,444.997650 C283.012512,444.997650 286.137421,444.997650 289.609680,444.997650 C286.357483,428.368774 281.590454,412.960205 271.796478,399.523529 C260.948914,384.641479 246.636673,373.526520 231.862717,362.910248 C219.800919,354.242889 208.190063,345.027435 199.047226,333.171661 C194.841293,327.717712 191.111542,321.896606 186.558350,315.371338 C186.411591,317.772705 185.949768,319.342468 186.285965,320.717041 C192.326691,345.413727 206.178223,364.814636 226.083435,380.398651 C236.288773,388.388519 245.934753,397.124420 255.507156,405.879974 C261.854523,411.685699 265.737823,419.171997 267.942261,427.583221 C225.976395,427.583221 184.275848,427.583221 142.207169,427.583221 C142.207169,425.298004 142.207153,423.326691 142.207153,421.355377 C142.207642,345.565338 142.458389,269.773499 141.912338,193.987396 C141.838730,183.772400 145.078751,177.579254 152.834412,171.680984 C168.195282,159.998856 183.715942,148.700409 201.259598,140.569977 C199.806229,136.788513 198.461197,133.288895 196.985443,129.449142 C177.913544,137.481628 161.240433,148.951096 143.777557,160.094284 C143.312592,160.045639 142.847626,159.996994 142.230118,159.029190 C142.230118,126.299644 142.230118,93.570099 142.230118,60.568851 C144.145676,60.568851 145.297546,60.569344 146.449417,60.568783 C208.271133,60.538555 270.092896,60.460587 331.914551,60.506336 C350.996521,60.520458 369.652954,63.044689 387.375916,70.728249 C425.578979,87.290718 444.031342,120.824112 436.769806,161.710480 C435.416595,169.330078 432.141235,176.608276 429.830322,183.803009 C434.188568,186.599335 438.895355,189.619339 443.593414,192.633713 C464.410980,155.133652 460.360718,98.158417 414.013824,66.050880 C390.143341,49.514259 363.183563,43.283016 334.778381,43.140480 C266.292877,42.796818 197.804398,43.036102 129.317123,43.051895 C127.876549,43.052227 126.436005,43.192879 124.624260,43.287445 C124.624260,45.562019 124.624214,47.537170 124.624268,49.512321 C124.626991,151.160187 124.629364,252.808044 124.632645,354.455902 C124.633575,383.283905 124.627701,412.111877 124.662704,440.939850 C124.664825,442.686615 123.618507,445.209930 127.225647,445.901947 C130.923645,447.219543 134.620682,448.523346 138.872070,444.996460 C141.250412,445.049011 143.628769,445.101562 146.153595,445.805328 C147.433350,445.588898 148.713104,445.372467 150.858749,444.997101 C152.908188,445.048950 154.957626,445.100769 157.170670,445.833069 C159.059235,447.600311 160.742615,447.912384 162.919327,444.996552 C169.615250,445.048889 176.311188,445.101227 183.095993,445.704987 C183.411301,445.992401 183.726608,446.279785 184.041916,446.567169 C184.358887,446.096710 184.675858,445.626282 185.859100,444.999084 C187.908463,445.051453 189.957825,445.103851 192.126221,445.780487 C193.081757,445.572296 194.037308,445.364136 195.841324,444.997131 M235.701202,180.284988 C238.168228,176.037354 240.635254,171.789719 243.218872,167.341354 C219.016708,170.503693 195.316132,222.561417 201.385956,258.873749 C204.546616,277.782227 214.436356,292.674133 229.527664,304.329987 C245.368179,316.564484 269.401855,326.969147 278.851624,325.250580 C263.145935,316.737457 249.332138,306.272888 237.535965,293.148834 C224.395020,278.528687 217.076736,261.800690 218.444107,241.893997 C219.917313,220.446533 225.887146,200.190353 235.701202,180.284988 M207.936157,129.509583 C212.600296,136.620575 217.264420,143.731567 221.887695,150.780258 C226.380371,146.948776 230.139847,143.742584 233.697098,140.708862 C231.180679,137.437073 228.482834,134.448761 226.374207,131.090469 C220.030930,120.987938 216.169952,110.247223 219.129349,98.066750 C220.475357,92.526772 223.045090,89.973381 228.586807,90.780411 C233.535355,91.501060 238.751572,92.975945 242.978409,95.549179 C253.495285,101.951706 263.232788,109.476509 269.560883,120.204941 C274.844635,118.539108 279.768066,116.986877 286.308014,114.925003 C279.652161,107.609673 274.179779,100.451004 267.559235,94.589111 C257.847839,85.990562 247.314804,78.265182 234.234756,75.328354 C218.309311,71.752655 206.951935,79.281006 204.039154,95.191185 C201.923645,106.746513 203.091644,117.970734 207.936157,129.509583 M259.616821,216.998917 C256.842957,227.315979 254.424896,237.625595 257.336182,248.392365 C261.976868,265.554810 282.478516,283.634735 300.240204,286.010742 C301.101288,286.125946 302.010620,285.880707 302.897461,285.803345 C303.325531,285.495758 303.753571,285.188171 304.181641,284.880585 C273.494690,260.200836 266.178009,227.740540 272.789856,190.643097 C272.013611,190.647308 271.237366,190.651535 270.461090,190.655746 C266.919617,199.179962 263.378143,207.704163 259.616821,216.998917 M365.712036,165.744019 C352.789185,161.806046 339.683899,159.080261 326.064789,159.991135 C319.900909,160.403366 315.056366,163.487427 310.029633,167.853210 C313.393433,169.124802 315.937958,170.523407 318.650146,171.037399 C331.311768,173.437027 344.038025,175.497192 356.692139,177.933380 C358.695496,178.319077 361.265259,179.545364 362.182678,181.168793 C367.713440,190.955917 378.605011,193.491425 386.892609,200.969757 C386.892609,199.203049 387.125000,198.441772 386.858276,197.952713 C381.484100,188.098160 376.127472,178.231842 370.537842,168.499695 C369.836823,167.279114 367.845825,166.799423 365.712036,165.744019 M332.636139,258.262482 C338.744934,257.667419 344.853760,257.072388 350.962555,256.477325 C350.973724,256.055267 350.984894,255.633194 350.996063,255.211136 C325.629791,249.181351 302.985077,239.744843 295.742859,210.811417 C294.826172,213.954208 294.061066,216.700974 294.153595,219.418549 C294.919220,241.908295 306.569366,257.253143 332.636139,258.262482 M402.665222,276.042664 C403.534393,275.932281 404.403564,275.821930 405.546875,275.676727 C390.307953,257.145599 355.313324,263.421204 338.236755,278.225800 C339.927155,278.001312 341.215057,277.814911 342.506897,277.661255 C352.180145,276.510742 361.835999,274.665314 371.532959,274.414246 C381.614777,274.153229 391.736511,275.435028 402.665222,276.042664 M388.337006,286.413666 C377.374664,285.206146 366.350189,284.295959 355.629852,287.542206 C351.226807,288.875488 347.248108,291.610107 343.076416,293.707306 C343.266266,293.937866 343.456116,294.168457 343.645966,294.399017 C364.660400,293.639648 385.674866,292.880310 406.689301,292.120941 C406.755249,291.634705 406.821198,291.148499 406.887177,290.662262 C400.996246,289.267792 395.105347,287.873291 388.337006,286.413666 M343.798767,183.563583 C340.734863,182.394669 337.670959,181.225754 334.254608,179.922363 C334.476746,193.550140 345.857269,201.662964 370.010071,206.314194 C368.928619,200.007141 367.452606,194.777344 359.510834,193.959930 C353.103668,193.300507 347.545898,190.178619 343.798767,183.563583 z" />
            </svg>
            <span className="text-base">Branori</span>
          </div>

          <div className="hidden md:flex items-center gap-6">
            <a
              href="#services"
              className="text-sm text-muted-foreground hover:text-foreground transition-colors"
            >
              Services
            </a>
            <a
              href="#contact"
              className="text-sm text-muted-foreground hover:text-foreground transition-colors"
            >
              Contact
            </a>
          </div>

          <button
            className="md:hidden w-10 h-10 flex flex-col justify-center items-center gap-[5px] relative z-[1000]"
            onClick={toggleMenu}
            aria-label={isMenuOpen ? 'Close menu' : 'Open menu'}
            aria-expanded={isMenuOpen}
          >
            <span
              className={`w-5 h-[2px] bg-foreground/80 rounded-sm transition-all duration-300 origin-center ${
                isMenuOpen ? 'rotate-45 translate-y-[7px]' : ''
              }`}
            />
            <span
              className={`w-5 h-[2px] bg-foreground/80 rounded-sm transition-all duration-300 ${
                isMenuOpen ? 'opacity-0 scale-0' : ''
              }`}
            />
            <span
              className={`w-5 h-[2px] bg-foreground/80 rounded-sm transition-all duration-300 origin-center ${
                isMenuOpen ? '-rotate-45 -translate-y-[7px]' : ''
              }`}
            />
          </button>
        </nav>
      </div>

      {isMenuOpen && (
        <div className="md:hidden fixed top-[68px] left-0 right-0 bg-[linear-gradient(to_bottom,_oklch(0.08_0.02_250_/_0.95),_oklch(0.08_0.02_250_/_0.85))] backdrop-blur-[12px] border-b border-[oklch(1_0_0_/_0.06)] z-[99] max-h-[calc(100vh-68px)] overflow-y-auto">
          <nav className="flex flex-col gap-0 p-5" role="navigation" aria-label="Mobile menu">
            <a
              href="#services"
              onClick={closeMenu}
              className="block py-3.5 border-b border-[oklch(1_0_0_/_0.08)] text-[15px] text-muted-foreground hover:text-foreground transition-colors"
            >
              Services
            </a>
            <a
              href="#contact"
              onClick={closeMenu}
              className="block py-3.5 text-[15px] text-muted-foreground hover:text-foreground transition-colors"
            >
              Contact
            </a>
          </nav>
        </div>
      )}
    </header>
  )
}
