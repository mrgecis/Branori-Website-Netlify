/* Mobile Performance & Layout Fixes */

/* Prevent horizontal scrolling */
html, body {
  overflow-x: hidden !important;
  width: 100% !important;
  max-width: 100vw !important;
}

/* Fix viewport height issues and black bars */
html {
  height: 100%;
  height: 100vh;
  height: 100dvh; /* Dynamic viewport height for mobile */
  /* Force dark background on mobile to prevent white flash */
  background-color: #070b11 !important;
}

body {
  height: 100%;
  min-height: 100vh;
  min-height: 100dvh;
  position: relative;
  /* Force dark background - critical for mobile scroll fix */
  background-color: #070b11 !important;
  color: #ffffff !important;
}

/* Critical mobile scroll fix - prevent white flash */
#root {
  background-color: #070b11 !important;
  color: #ffffff !important;
  min-height: 100vh;
  min-height: 100dvh;
}

/* Force all main containers to maintain dark theme */
main, 
section,
.container {
  background-color: transparent !important;
}

/* iOS specific fixes for scroll-induced color changes */
@supports (-webkit-touch-callout: none) {
  html, body, #root {
    background-color: #070b11 !important;
    -webkit-background-clip: padding-box !important;
    background-clip: padding-box !important;
  }
  
  /* Prevent iOS safari from changing colors on scroll */
  body {
    -webkit-overflow-scrolling: touch;
    position: relative;
    z-index: 0;
  }
}

/* Prevent content from causing horizontal overflow */
* {
  box-sizing: border-box;
}

*:not(svg):not(path):not(circle):not(rect):not(g):not(defs):not(clipPath):not(mask) {
  max-width: 100%;
}

/* Container fixes for mobile */
.container {
  width: 100% !important;
  max-width: 100vw !important;
  padding-left: 1rem !important;
  padding-right: 1rem !important;
  margin-left: auto !important;
  margin-right: auto !important;
  overflow-x: hidden !important;
}

/* Grid and flex container fixes */
[class*="grid"], 
[class*="flex"] {
  min-width: 0 !important;
  overflow-x: hidden !important;
}

/* Image and media fixes */
img, video, canvas, svg {
  max-width: 100% !important;
  height: auto !important;
}

/* Text overflow prevention */
pre, code {
  word-wrap: break-word !important;
  overflow-wrap: break-word !important;
  white-space: pre-wrap !important;
  overflow-x: auto !important;
}

/* Performance optimizations for mobile */
@media (max-width: 768px) {
  /* Reduce animations on mobile for better performance */
  *, *::before, *::after {
    animation-duration: 0.3s !important;
  }
  
  /* Optimize transforms */
  .transform {
    transform: translateZ(0);
    backface-visibility: hidden;
    will-change: auto;
  }
  
  /* Reduce blur effects on mobile */
  [style*="blur"] {
    backdrop-filter: blur(8px) !important;
  }
  
  /* Optimize gradients */
  [style*="gradient"] {
    background-attachment: scroll !important;
  }
}

/* Fix for iOS viewport units */
@supports (-webkit-touch-callout: none) {
  html {
    height: -webkit-fill-available;
  }
  
  body {
    min-height: -webkit-fill-available;
  }
}

/* Prevent zoom on input focus (iOS) */
input[type="text"], 
input[type="email"], 
input[type="tel"], 
textarea, 
select {
  font-size: 16px !important;
}

/* Hide scrollbars on mobile while maintaining functionality */
@media (max-width: 768px) {
  ::-webkit-scrollbar {
    display: none;
  }
  
  * {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
}